import{v as H,r as J,c as b,aB as Q,aA as W,B as h,E as c,C as o,O as p,D as e,ak as a,G as X,P as y,a4 as E,y as d,K as Y,M as w,u as R,R as Z,L as k,z as s}from"./vue-Oyw5Wt-7.js";import{u as ee}from"./index-BHoJcF0t.js";import{b as te}from"./elementPlus-BZK7s8Hm.js";import{_ as ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";const oe={class:"layout"},ae={class:"logo"},se={key:0},le={key:1},re={class:"main-container"},ce={class:"header"},ie={class:"header-left"},de={class:"header-right"},ue={class:"user-info"},_e={class:"user-name"},me={class:"content"},pe=H({__name:"index",setup(fe){const C=Q(),B=W(),_=ee(),f=J(!1),N=b(()=>C),A=b(()=>_.roleType===9),P=b(()=>A.value?"å® ç‰©é…’åº—ç®¡ç†ç³»ç»Ÿ":_.hotelName||"å® ç‰©é…’åº—ç®¡ç†ç³»ç»Ÿ"),T=b(()=>C.path),V=b(()=>B.options.routes.filter(n=>{var u,m;if((u=n.meta)!=null&&u.hidden)return!1;if(n.path==="/")return!0;if(n.path==="/login")return!1;const i=(m=n.meta)==null?void 0:m.perm;return!(i&&!_.hasPermission(i))}).map(n=>n.children&&n.children.length>0?{...n,children:n.children.filter(i=>{var m;const u=(m=i.meta)==null?void 0:m.perm;return!(u&&!_.hasPermission(u))})}:n).filter(n=>!(n.children&&n.children.length===0))),z=()=>{f.value=!f.value},F=async x=>{if(x==="logout")try{await te.confirm("ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ","æç¤º",{type:"warning"}),await _.doLogout(),B.push("/login")}catch{}};return(x,n)=>{const i=a("el-icon"),u=a("el-menu-item"),m=a("el-sub-menu"),L=a("el-menu"),M=a("Fold"),U=a("Expand"),S=a("el-breadcrumb-item"),$=a("el-breadcrumb"),G=a("el-avatar"),I=a("ArrowDown"),D=a("el-dropdown-item"),K=a("SwitchButton"),O=a("el-dropdown-menu"),j=a("el-dropdown"),q=a("router-view");return s(),h("div",oe,[c("aside",{class:X(["sidebar",{collapsed:f.value}])},[c("div",ae,[f.value?(s(),h("span",le,"ðŸ¾")):(s(),h("span",se,"ðŸ¾ "+p(P.value),1))]),o(L,{"default-active":T.value,collapse:f.value,router:!0,"background-color":"#304156","text-color":"#bfcbd9","active-text-color":"#409eff"},{default:e(()=>[(s(!0),h(y,null,E(V.value,t=>(s(),h(y,{key:t.path},[t.children&&t.children.length>1?(s(),d(m,{key:0,index:t.path},{title:e(()=>{var l;return[o(i,null,{default:e(()=>{var r;return[(s(),d(k((r=t.meta)==null?void 0:r.icon)))]}),_:2},1024),c("span",null,p((l=t.meta)==null?void 0:l.title),1)]}),default:e(()=>[(s(!0),h(y,null,E(t.children,l=>(s(),d(u,{key:l.path,index:`${t.path}/${l.path}`},{default:e(()=>{var r;return[w(p((r=l.meta)==null?void 0:r.title),1)]}),_:2},1032,["index"]))),128))]),_:2},1032,["index"])):(s(),d(u,{key:1,index:t.redirect||t.path},{title:e(()=>{var l,r,v,g;return[c("span",null,p(((l=t.meta)==null?void 0:l.title)||((g=(v=(r=t.children)==null?void 0:r[0])==null?void 0:v.meta)==null?void 0:g.title)),1)]}),default:e(()=>[o(i,null,{default:e(()=>{var l,r,v,g;return[(s(),d(k(((l=t.meta)==null?void 0:l.icon)||((g=(v=(r=t.children)==null?void 0:r[0])==null?void 0:v.meta)==null?void 0:g.icon))))]}),_:2},1024)]),_:2},1032,["index"]))],64))),128))]),_:1},8,["default-active","collapse"])],2),c("div",re,[c("header",ce,[c("div",ie,[o(i,{class:"toggle-btn",onClick:z},{default:e(()=>[f.value?(s(),d(U,{key:1})):(s(),d(M,{key:0}))]),_:1}),o($,{separator:"/"},{default:e(()=>{var t;return[o(S,{to:{path:"/"}},{default:e(()=>[...n[0]||(n[0]=[w("é¦–é¡µ",-1)])]),_:1}),(t=N.value.meta)!=null&&t.title?(s(),d(S,{key:0},{default:e(()=>[w(p(N.value.meta.title),1)]),_:1})):Y("",!0)]}),_:1})]),c("div",de,[o(j,{trigger:"click",onCommand:F},{dropdown:e(()=>[o(O,null,{default:e(()=>[o(D,{disabled:""},{default:e(()=>[w(p(R(_).hotelName||"å¹³å°ç®¡ç†å‘˜"),1)]),_:1}),o(D,{divided:"",command:"logout"},{default:e(()=>[o(i,null,{default:e(()=>[o(K)]),_:1}),n[1]||(n[1]=w(" é€€å‡ºç™»å½• ",-1))]),_:1})]),_:1})]),default:e(()=>[c("span",ue,[o(G,{size:32,icon:"User"}),c("span",_e,p(R(_).realName),1),o(i,null,{default:e(()=>[o(I)]),_:1})])]),_:1})])]),c("main",me,[o(q,null,{default:e(({Component:t})=>[o(Z,{name:"fade",mode:"out-in"},{default:e(()=>[(s(),d(k(t)))]),_:2},1024)]),_:1})])])])}}}),we=ne(pe,[["__scopeId","data-v-0b030a81"]]);export{we as default};
