import{d as j,r as u,l as S,c as l,a as e,b as v,f as C,w as N,g as H,e as f,n as y,F as V,m as q,p as B,j as M,o as r,k as g,q as F,t as o}from"./index-ClhVCDrs.js";import{g as I}from"./index-C1oTlUQQ.js";const R={class:"relative bg-gradient-to-r from-primary-600 to-primary-800 text-white py-20"},T={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},z={class:"text-center"},A={class:"py-16 bg-gray-100"},$={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},D={key:0,class:"text-center py-20"},E={key:1,class:"relative"},J={class:"overflow-x-auto scrollbar-hide"},L=["onClick"],O={class:"h-48 rounded-lg mb-4 overflow-hidden relative"},P=["src","alt"],W={key:1,class:"w-full h-full bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-6xl"},G={key:2,class:"absolute bottom-2 right-2 bg-black/60 text-white text-xs px-2 py-1 rounded"},K={class:"text-xl font-semibold mb-2"},Q={class:"flex items-center gap-2 text-sm text-gray-700 mb-3"},U={class:"text-yellow-500"},X={class:"text-gray-600"},Y={class:"text-gray-400 text-xs"},Z={class:"space-y-2 mb-4"},tt={class:"text-gray-600 text-sm flex items-center"},et={class:"text-gray-600 text-sm flex items-center"},st={class:"flex justify-between items-center"},at={key:0,class:"text-center mt-4 text-sm text-gray-500"},lt={key:2,class:"text-center py-20"},it=j({__name:"index",setup(rt){const b=M(),n=u([]),c=u(!1),x=u({}),d=a=>{if(!a)return[];try{return JSON.parse(a)}catch{return[]}},h=a=>{if(!a||a<=0)return"â˜†â˜†â˜†â˜†â˜†";const t=Math.min(5,Math.max(0,Math.round(a)));return"â˜…â˜…â˜…â˜…â˜…".slice(0,t)+"â˜†â˜†â˜†â˜†â˜†".slice(0,5-t)},m=a=>x.value[a]||{avg:0,count:0},w=async a=>{const t=Array.from(new Set(a)).filter(Boolean);await Promise.all(t.map(async i=>{if(!x.value[i])try{const p=(await B.get(`/hotel-review/summary/${i}`)).data||{};x.value[i]={avg:Number(p.hotelAvgScore||0),count:Number(p.hotelReviewCount||0)}}catch(s){console.error("è·å–é…’åº—è¯„åˆ†æ±‡æ€»å¤±è´¥:",s)}}))},_=async()=>{c.value=!0;try{const a=await I(5);n.value=a.data,await w(n.value.map(t=>t.id))}catch(a){console.error("è·å–é…’åº—åˆ—è¡¨å¤±è´¥:",a)}finally{c.value=!1}},k=a=>{b.push({path:"/rooms",query:{hotelId:a.toString()}})};return S(()=>{_()}),(a,t)=>{const i=H("router-link");return r(),l("div",null,[e("section",R,[e("div",T,[e("div",z,[t[1]||(t[1]=e("h1",{class:"text-4xl md:text-5xl font-bold mb-6"}," ç»™æ‚¨çš„çˆ±å® ä¸€ä¸ªæ¸©é¦¨çš„å®¶ ",-1)),t[2]||(t[2]=e("p",{class:"text-xl text-primary-100 mb-8 max-w-2xl mx-auto"}," ä¸“ä¸šçš„å® ç‰©å¯„å…»æœåŠ¡ï¼Œ24å°æ—¶æ‚‰å¿ƒç…§æ–™ï¼Œè®©æ‚¨æ”¾å¿ƒå‡ºè¡Œ ",-1)),C(i,{to:"/rooms",class:"inline-block bg-white text-primary-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors"},{default:N(()=>[...t[0]||(t[0]=[g(" ç«‹å³é¢„è®¢ ",-1)])]),_:1})])]),t[3]||(t[3]=e("div",{class:"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-gray-50 to-transparent"},null,-1))]),t[10]||(t[10]=v('<section class="py-16"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><h2 class="text-3xl font-bold text-center text-gray-900 mb-12">ä¸ºä»€ä¹ˆé€‰æ‹©æˆ‘ä»¬</h2><div class="grid grid-cols-1 md:grid-cols-3 gap-8"><div class="card text-center"><div class="w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4"><span class="text-3xl">ğŸ </span></div><h3 class="text-xl font-semibold mb-2">èˆ’é€‚ç¯å¢ƒ</h3><p class="text-gray-600">å®½æ•æ˜äº®çš„æˆ¿é—´ï¼Œæ’æ¸©æ’æ¹¿ï¼Œç»™å® ç‰©æœ€èˆ’é€‚çš„å±…ä½ä½“éªŒ</p></div><div class="card text-center"><div class="w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4"><span class="text-3xl">ğŸ‘¨â€âš•ï¸</span></div><h3 class="text-xl font-semibold mb-2">ä¸“ä¸šç…§æŠ¤</h3><p class="text-gray-600">ç»éªŒä¸°å¯Œçš„æŠ¤ç†å›¢é˜Ÿï¼Œ24å°æ—¶å…³æ³¨å® ç‰©å¥åº·çŠ¶å†µ</p></div><div class="card text-center"><div class="w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4"><span class="text-3xl">ğŸ“±</span></div><h3 class="text-xl font-semibold mb-2">å®æ—¶åé¦ˆ</h3><p class="text-gray-600">æ¯æ—¥ç…§æ–™è®°å½•ï¼Œéšæ—¶æŸ¥çœ‹çˆ±å® åŠ¨æ€ï¼Œå®‰å¿ƒåˆæ”¾å¿ƒ</p></div></div></div></section>',1)),e("section",A,[e("div",$,[t[9]||(t[9]=e("h2",{class:"text-3xl font-bold text-center text-gray-900 mb-12"},"çƒ­é—¨é…’åº—",-1)),c.value?(r(),l("div",D,[...t[4]||(t[4]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-primary-600 border-t-transparent"},null,-1),e("p",{class:"mt-4 text-gray-600"},"åŠ è½½ä¸­...",-1)])])):n.value.length>0?(r(),l("div",E,[e("div",J,[e("div",{class:y(["flex gap-6 pb-4",n.value.length<=3?"justify-center":""])},[(r(!0),l(V,null,q(n.value,s=>(r(),l("div",{key:s.id,class:"card group cursor-pointer hover:shadow-lg transition-shadow flex-shrink-0",style:F({width:n.value.length<=3?"calc(33.333% - 1rem)":"350px",minWidth:"300px"}),onClick:p=>k(s.id)},[e("div",O,[d(s.images).length>0?(r(),l("img",{key:0,src:d(s.images)[0],alt:s.name,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"},null,8,P)):(r(),l("div",W," ğŸ¨ ")),d(s.images).length>1?(r(),l("div",G,o(d(s.images).length)+"å¼  ",1)):f("",!0)]),e("h3",K,o(s.name),1),e("div",Q,[e("span",U,o(h(m(s.id).avg)),1),e("span",X,o(m(s.id).avg.toFixed(1))+"/5",1),e("span",Y,"("+o(m(s.id).count)+" äººè¯„ä»·)",1)]),e("div",Z,[e("p",tt,[t[5]||(t[5]=e("span",{class:"mr-2"},"ğŸ“",-1)),g(" "+o(s.address),1)]),e("p",et,[t[6]||(t[6]=e("span",{class:"mr-2"},"ğŸ“",-1)),g(" "+o(s.phone),1)])]),e("div",st,[e("span",{class:y(["px-3 py-1 text-sm rounded-full",s.status===1?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},o(s.status===1?"è¥ä¸šä¸­":"ä¼‘æ¯ä¸­"),3),t[7]||(t[7]=e("span",{class:"text-primary-600 group-hover:translate-x-1 transition-transform"}," æŸ¥çœ‹æˆ¿é—´ â†’ ",-1))])],12,L))),128))],2)]),n.value.length>3?(r(),l("div",at," â† å·¦å³æ»‘åŠ¨æŸ¥çœ‹æ›´å¤šé…’åº— â†’ ")):f("",!0)])):(r(),l("div",lt,[...t[8]||(t[8]=[e("span",{class:"text-6xl"},"ğŸ¨",-1),e("p",{class:"mt-4 text-gray-600"},"æš‚æ— é…’åº—ä¿¡æ¯",-1)])]))])]),t[11]||(t[11]=v('<section class="py-16"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><h2 class="text-3xl font-bold text-center text-gray-900 mb-12">é¢„è®¢æµç¨‹</h2><div class="flex flex-col md:flex-row justify-center items-center gap-8"><div class="flex flex-col items-center"><div class="w-16 h-16 bg-primary-600 text-white rounded-full flex items-center justify-center text-xl font-bold mb-4">1</div><h3 class="font-semibold mb-2">é€‰æ‹©æˆ¿å‹</h3><p class="text-gray-600 text-center text-sm">æ ¹æ®å® ç‰©ç±»å‹é€‰æ‹©åˆé€‚çš„æˆ¿é—´</p></div><div class="hidden md:block w-24 h-1 bg-primary-200"></div><div class="flex flex-col items-center"><div class="w-16 h-16 bg-primary-600 text-white rounded-full flex items-center justify-center text-xl font-bold mb-4">2</div><h3 class="font-semibold mb-2">å¡«å†™ä¿¡æ¯</h3><p class="text-gray-600 text-center text-sm">å¡«å†™å…¥ä½æ—¥æœŸå’Œå® ç‰©ä¿¡æ¯</p></div><div class="hidden md:block w-24 h-1 bg-primary-200"></div><div class="flex flex-col items-center"><div class="w-16 h-16 bg-primary-600 text-white rounded-full flex items-center justify-center text-xl font-bold mb-4">3</div><h3 class="font-semibold mb-2">ç¡®è®¤é¢„è®¢</h3><p class="text-gray-600 text-center text-sm">ç¡®è®¤è®¢å•å¹¶å®Œæˆæ”¯ä»˜</p></div><div class="hidden md:block w-24 h-1 bg-primary-200"></div><div class="flex flex-col items-center"><div class="w-16 h-16 bg-primary-600 text-white rounded-full flex items-center justify-center text-xl font-bold mb-4">4</div><h3 class="font-semibold mb-2">é€è¾¾å…¥ä½</h3><p class="text-gray-600 text-center text-sm">æŒ‰æ—¶å°†å® ç‰©é€åˆ°é…’åº—</p></div></div></div></section>',1))])}}});export{it as default};
